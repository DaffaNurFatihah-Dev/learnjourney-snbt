<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daffa Nur Fatihah Learn: Penalaran Deduktif SNBT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FDFBF7; color: #1F2937; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 350px; max-height: 400px; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .tab-active { border-bottom: 2px solid #4F46E5; color: #4F46E5; font-weight: 600; }
        .logic-symbol { font-family: 'Courier New', monospace; font-weight: bold; }
        canvas { touch-action: none; }
    </style>
    <!-- Chosen Palette: Calm Harmony (Warm Neutral #FDFBF7, Slate Blue #4F46E5, Sage Green #10B981, Muted Coral #F43F5E) -->
    <!-- Application Structure Plan:
        1. Dashboard Header: Introduction and navigation.
        2. 'Peta Kesulitan' (Chart.js): A Radar chart visualizing the relative difficulty/importance of topics based on the guide's warnings (e.g., Negation of Implication is high priority).
        3. Logic Simulator (Core Interaction): An interactive section where users select a logic rule (Ponens, Tollens, etc.) and see the formula, description, and concrete examples dynamically update.
        4. Quantifier Visualizer (Canvas API): Custom drawn Euler diagrams to visualize 'All' vs 'Some' logic, crucial for understanding subsets and intersections.
        5. Active Recall Deck: The 'Pertanyaan Kunci' converted into interactive flip-cards.
        6. Glossary: A searchable list of terms.
        This structure moves from overview (Chart) to deep understanding (Simulator/Visualizer) to testing (Recall), mirroring a logical study flow.
    -->
    <!-- Visualization & Content Choices:
        - Radar Chart: To show the 'Skill Landscape' - identifying high-risk topics like Negasi Implikasi.
        - Custom Canvas (Euler): Best way to explain set theory logic (All vs Some) visually without SVG.
        - Dynamic DOM: For the Logic Simulator to allow users to play with inputs and see immediate logical outputs.
        - NO SVG/Mermaid used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-indigo-600">Dffanrf<span class="text-gray-900">Learn</span></span>
                </div>
                <div class="hidden sm:flex space-x-8 items-center" id="desktop-nav">
                    <!-- Nav items generated by JS -->
                </div>
                <div class="flex items-center sm:hidden">
                    <button id="mobile-menu-btn" class="text-gray-500 hover:text-indigo-600 focus:outline-none">
                        <span class="text-2xl">☰</span>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden sm:hidden bg-white border-t border-gray-100 p-4 space-y-2">
            <!-- Mobile nav items generated by JS -->
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full space-y-12">

        <!-- Hero Section -->
        <section id="hero" class="text-center py-10 bg-indigo-50 rounded-3xl shadow-sm border border-indigo-100">
            <h1 class="text-4xl font-bold text-gray-900 tracking-tight mb-4">Strategi Penalaran Deduktif SNBT</h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
                Kuasai logika formal, hindari jebakan asumsi, dan menangkan skor tinggi di subtes Penalaran Umum dengan memahami struktur logika, bukan sekadar perasaan.
            </p>
            <div class="flex justify-center gap-4">
                <button onclick="scrollToSection('simulator')" class="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-300">
                    Mulai Simulasi
                </button>
                <button onclick="scrollToSection('recall')" class="px-6 py-3 bg-white text-indigo-600 font-semibold rounded-lg border border-indigo-200 shadow-sm hover:bg-gray-50 transition duration-300">
                    Latihan Soal
                </button>
            </div>
        </section>

        <!-- Topic Analysis (Chart.js) -->
        <section id="analysis" class="space-y-6">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Peta Fokus Materi</h2>
                <p class="text-gray-500 mt-2">Analisis tingkat kesulitan dan prioritas materi berdasarkan frekuensi jebakan di SNBT.</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                    <div class="chart-container">
                        <canvas id="topicRadarChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-gray-400 mt-4">Data representasi tingkat kerumitan konsep</p>
                </div>
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-gray-800">Insight Penting</h3>
                    <div class="bg-red-50 p-4 rounded-xl border-l-4 border-red-500">
                        <h4 class="font-bold text-red-700">Zona Bahaya: Negasi Implikasi</h4>
                        <p class="text-sm text-red-600 mt-1">Kesalahan paling umum adalah mengubah "Jika P maka Q" menjadi "Jika tidak P maka tidak Q". Ingat rumus: <strong>P dan ~Q</strong>.</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-xl border-l-4 border-green-500">
                        <h4 class="font-bold text-green-700">Zona Aman: Modus Ponens</h4>
                        <p class="text-sm text-green-600 mt-1">Konsep paling intuitif. Fokuskan energimu untuk memahami bentuk ekuivalensi yang lebih kompleks seperti Kontraposisi.</p>
                    </div>
                    <div class="bg-indigo-50 p-4 rounded-xl border-l-4 border-indigo-500">
                        <h4 class="font-bold text-indigo-700">Tips Strategi</h4>
                        <p class="text-sm text-indigo-600 mt-1">Jangan gunakan asumsi pribadi! Validitas logika matematika bersifat struktural, tidak peduli apakah faktanya masuk akal di dunia nyata atau tidak.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Logic Simulator (Interactive Core) -->
        <section id="simulator" class="space-y-6">
            <div class="flex flex-col md:flex-row justify-between items-end border-b border-gray-200 pb-4">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">Simulator Logika</h2>
                    <p class="text-gray-500 mt-1">Eksplorasi rumus logika dengan contoh nyata.</p>
                </div>
                <div class="mt-4 md:mt-0">
                    <label for="logicSelector" class="block text-sm font-medium text-gray-700 mb-1">Pilih Konsep:</label>
                    <select id="logicSelector" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border shadow-sm">
                        <!-- Options filled by JS -->
                    </select>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden">
                <div class="p-6 md:p-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Left: Formula & Explanation -->
                    <div class="space-y-6">
                        <div id="formulaDisplay" class="bg-gray-900 text-white p-6 rounded-xl font-mono text-xl text-center shadow-inner">
                            <!-- Formula injected here -->
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Penjelasan</h3>
                            <p id="conceptDesc" class="text-gray-600 leading-relaxed">
                                <!-- Description injected here -->
                            </p>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Aturan Kunci</h3>
                            <ul id="keyRules" class="list-disc list-inside text-gray-600 space-y-1">
                                <!-- Rules injected here -->
                            </ul>
                        </div>
                    </div>

                    <!-- Right: Concrete Example -->
                    <div class="bg-indigo-50 rounded-xl p-6 border border-indigo-100 flex flex-col justify-center">
                        <h3 class="text-indigo-900 font-bold uppercase tracking-wide text-sm mb-4">Contoh Penerapan</h3>
                        <div class="space-y-4">
                            <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500">
                                <span class="text-xs font-bold text-gray-400 uppercase">Pernyataan Awal (P)</span>
                                <p id="exampleP" class="text-gray-800 font-medium mt-1">...</p>
                            </div>
                            <div class="flex justify-center text-gray-400">
                                <svg class="w-6 h-6 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500">
                                <span class="text-xs font-bold text-gray-400 uppercase">Hasil Logika (Output)</span>
                                <p id="exampleResult" class="text-gray-800 font-medium mt-1">...</p>
                            </div>
                        </div>
                        <div id="exampleNote" class="mt-4 text-xs text-indigo-600 italic text-center">
                            <!-- Context note -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualizer (Canvas: Kuantor) -->
        <section id="visualizer" class="space-y-6">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Visualisasi Kuantor</h2>
                <p class="text-gray-500 mt-2">Memahami perbedaan "Semua" dan "Sebagian" melalui Diagram Euler.</p>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                <div class="flex justify-center space-x-4 mb-6">
                    <button onclick="drawQuantifier('all')" class="px-4 py-2 rounded-full text-sm font-medium transition-colors bg-indigo-100 text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ring-offset-white active-quantifier" id="btn-all">
                        Semua (Universal)
                    </button>
                    <button onclick="drawQuantifier('some')" class="px-4 py-2 rounded-full text-sm font-medium transition-colors bg-white text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500" id="btn-some">
                        Sebagian (Partikular)
                    </button>
                    <button onclick="drawQuantifier('none')" class="px-4 py-2 rounded-full text-sm font-medium transition-colors bg-white text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500" id="btn-none">
                        Tidak Ada (Disjoint)
                    </button>
                </div>
                
                <div class="chart-container" style="height: 300px;">
                    <canvas id="eulerCanvas" width="600" height="300"></canvas>
                </div>
                
                <div id="visualExplanation" class="text-center mt-4 text-gray-600 max-w-2xl mx-auto">
                    <!-- Explained by JS -->
                </div>
            </div>
        </section>

        <!-- Active Recall (Flashcards) -->
        <section id="recall" class="space-y-6">
            <div class="flex items-center justify-between">
                <h2 class="text-3xl font-bold text-gray-900">Kuis Kilat</h2>
                <span class="text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium">Active Recall</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="flashcardGrid">
                <!-- Cards generated by JS -->
            </div>
        </section>

        <!-- Glossary -->
        <section id="glossary" class="bg-gray-50 rounded-2xl p-8 border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">Kamus Istilah Logika</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4" id="glossaryGrid">
                <!-- Terms generated by JS -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-500 text-sm">
                &copy;By Daffa Nur Fatihah -> instagram : @dffanrf.
            </p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Source ---
        const studyData = {
            chartData: {
                labels: ['Negasi Implikasi', 'Hukum De Morgan', 'Kontraposisi', 'Silogisme', 'Kuantor'],
                data: [90, 75, 85, 60, 70], // Hypothetical difficulty/error rate
                descriptions: [
                    'Sering salah kaprah menjadi "Jika tidak P maka tidak Q".',
                    'Lupa mengubah "dan" menjadi "atau" saat dinegasikan.',
                    'Kesulitan membalik posisi dan menegasikan sekaligus.',
                    'Relatif mudah, namun hati-hati dengan premis tersembunyi.',
                    'Bingung membedakan negasi "Semua" menjadi "Ada".'
                ]
            },
            logicConcepts: [
                {
                    id: 'negasi_implikasi',
                    title: 'Negasi Implikasi',
                    formula: '~(P → Q) ≡ P ∧ ~Q',
                    description: 'Ingkaran dari pernyataan "Jika P maka Q" adalah "P terjadi TETAPI Q tidak terjadi". Ini adalah satu-satunya kasus yang membuat janji (implikasi) bernilai salah.',
                    rules: [
                        'Jangan tambahkan kata "Jika" pada hasil negasi.',
                        'Jangan ubah menjadi "Tidak P maka Tidak Q" (Invers).',
                        'Hubungkan dengan kata "dan" atau "tetapi".'
                    ],
                    example: {
                        p: 'Jika hari ini hujan, maka jalanan basah.',
                        result: 'Hari ini hujan DAN jalanan TIDAK basah.'
                    },
                    note: 'Bayangkan kamu berjanji. Kamu hanya dianggap ingkar janji jika syaratnya terpenuhi (Hujan) tapi kamu tidak menepati akibatnya (Tidak basah).'
                },
                {
                    id: 'kontraposisi',
                    title: 'Kontraposisi (Ekuivalen)',
                    formula: 'P → Q ≡ ~Q → ~P',
                    description: 'Pernyataan implikasi setara dengan membalik posisi sebab-akibat dan menegasikan keduanya. Nilai kebenarannya selalu sama dengan pernyataan asli.',
                    rules: [
                        'Tukar posisi P dan Q.',
                        'Tambahkan kata "tidak" pada keduanya.',
                        'Jangan hanya tukar (Konvers) atau hanya negasi (Invers).'
                    ],
                    example: {
                        p: 'Jika Budi juara, maka Ayah beli laptop.',
                        result: 'Jika Ayah TIDAK beli laptop, maka Budi TIDAK juara.'
                    },
                    note: 'Jika akibatnya batal terjadi, maka penyebabnya pasti tidak pernah terjadi.'
                },
                {
                    id: 'modus_tollens',
                    title: 'Modus Tollens',
                    formula: 'P → Q, ~Q ∴ ~P',
                    description: 'Metode penarikan kesimpulan dengan menyangkal akibat. Jika akibat tidak terjadi, maka sebab pasti tidak terjadi.',
                    rules: [
                        'Premis 1: Implikasi (Jika... maka...)',
                        'Premis 2: Negasi dari akibat (~Q)',
                        'Kesimpulan: Negasi dari sebab (~P)'
                    ],
                    example: {
                        p: 'Premis 1: Jika lampu merah, kendaraan berhenti.\nPremis 2: Kendaraan TIDAK berhenti.',
                        result: 'Kesimpulan: Lampu TIDAK merah.'
                    },
                    note: 'Hati-hati! Jika kendaraan berhenti (Q terjadi), kita TIDAK BISA menyimpulkan lampu merah (P), karena bisa saja berhenti karena macet.'
                },
                {
                    id: 'de_morgan',
                    title: 'Hukum De Morgan',
                    formula: '~(A ∨ B) ≡ ~A ∧ ~B',
                    description: 'Cara menyangkal pilihan "atau". Agar pernyataan "A atau B" salah, maka KEDUANYA harus salah.',
                    rules: [
                        'Negasikan elemen pertama (~A).',
                        'Ubah "atau" menjadi "dan".',
                        'Negasikan elemen kedua (~B).'
                    ],
                    example: {
                        p: 'Saya makan nasi atau minum teh.',
                        result: 'Negasi: Saya TIDAK makan nasi DAN TIDAK minum teh.'
                    },
                    note: 'Jika kamu melakukan salah satunya saja, pernyataan "atau" masih benar. Maka untuk menyangkalnya, kamu tidak boleh melakukan keduanya.'
                }
            ],
            flashcards: [
                {
                    q: 'Apa negasi dari "Jika P maka Q"?',
                    a: 'P dan Tidak Q (P ∧ ~Q)',
                    hint: 'Ingat konsep "Ingkar Janji".'
                },
                {
                    q: 'Apa kontraposisi dari "Jika Hujan maka Basah"?',
                    a: 'Jika Tidak Basah maka Tidak Hujan',
                    hint: 'Balik dan Negasikan.'
                },
                {
                    q: 'Simpulkan: "Semua A adalah B" dan "Sebagian B adalah C".',
                    a: 'Tidak dapat ditarik kesimpulan pasti.',
                    hint: 'Himpunan A dan C mungkin tidak bersentuhan.'
                },
                {
                    q: 'Ubah ke Implikasi: "Tidak ada X yang Y".',
                    a: 'Jika sesuatu adalah X, maka ia BUKAN Y.',
                    hint: 'Universal Negatif.'
                },
                {
                    q: 'Apa negasi dari "Semua siswa lulus"?',
                    a: 'Ada/Beberapa siswa yang TIDAK lulus.',
                    hint: 'Lawan dari Semua adalah Ada.'
                }
            ],
            glossary: {
                'Premis': 'Pernyataan yang dianggap benar sebagai dasar penarikan kesimpulan.',
                'Ekuivalen': 'Dua pernyataan yang memiliki nilai kebenaran sama dalam segala kondisi.',
                'Negasi': 'Pengingkaran/penyangkalan suatu pernyataan (Lawan Logis).',
                'Kontraposisi': 'Bentuk ekuivalen implikasi: tukar posisi dan negasikan.',
                'Kuantor': 'Kata penunjuk jumlah (Semua, Ada, Beberapa, Sebagian).',
                'Silogisme': 'Penarikan kesimpulan dari dua premis penghubung.',
                'Modus Ponens': 'Jika P→Q dan P terjadi, maka Q terjadi.',
                'Tautologi': 'Pernyataan majemuk yang selalu bernilai benar.'
            }
        };

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initNavigation();
            initChart();
            initSimulator();
            initVisualizer();
            initRecall();
            initGlossary();
        });

        // --- Navigation ---
        function initNavigation() {
            const sections = [
                { id: 'simulator', label: 'Simulasi' },
                { id: 'visualizer', label: 'Visualisasi' },
                { id: 'recall', label: 'Latihan' },
                { id: 'glossary', label: 'Kamus' }
            ];
            
            const desktopNav = document.getElementById('desktop-nav');
            const mobileMenu = document.getElementById('mobile-menu');

            sections.forEach(sec => {
                // Desktop
                const btn = document.createElement('button');
                btn.innerText = sec.label;
                btn.className = 'text-gray-500 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors';
                btn.onclick = () => scrollToSection(sec.id);
                desktopNav.appendChild(btn);

                // Mobile
                const mBtn = document.createElement('button');
                mBtn.innerText = sec.label;
                mBtn.className = 'block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-gray-50';
                mBtn.onclick = () => {
                    scrollToSection(sec.id);
                    document.getElementById('mobile-menu').classList.add('hidden');
                };
                mobileMenu.appendChild(mBtn);
            });

            document.getElementById('mobile-menu-btn').onclick = () => {
                mobileMenu.classList.toggle('hidden');
            };
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- Chart.js: Radar Chart ---
        function initChart() {
            const ctx = document.getElementById('topicRadarChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: studyData.chartData.labels,
                    datasets: [{
                        label: 'Tingkat Kerawanan Kesalahan',
                        data: studyData.chartData.data,
                        fill: true,
                        backgroundColor: 'rgba(79, 70, 229, 0.2)',
                        borderColor: 'rgb(79, 70, 229)',
                        pointBackgroundColor: 'rgb(79, 70, 229)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(79, 70, 229)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: { line: { tension: 0.3 } },
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers for cleaner look
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const idx = context.dataIndex;
                                    return studyData.chartData.descriptions[idx];
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- Logic Simulator ---
        function initSimulator() {
            const selector = document.getElementById('logicSelector');
            
            studyData.logicConcepts.forEach(concept => {
                const opt = document.createElement('option');
                opt.value = concept.id;
                opt.innerText = concept.title;
                selector.appendChild(opt);
            });

            selector.addEventListener('change', (e) => updateSimulator(e.target.value));
            
            // Initialize with first concept
            updateSimulator(studyData.logicConcepts[0].id);
        }

        function updateSimulator(conceptId) {
            const data = studyData.logicConcepts.find(c => c.id === conceptId);
            if (!data) return;

            // Animate transition
            const container = document.getElementById('simulator');
            container.style.opacity = '0.5';
            setTimeout(() => {
                document.getElementById('formulaDisplay').innerText = data.formula;
                document.getElementById('conceptDesc').innerText = data.description;
                
                const rulesList = document.getElementById('keyRules');
                rulesList.innerHTML = '';
                data.rules.forEach(rule => {
                    const li = document.createElement('li');
                    li.innerText = rule;
                    rulesList.appendChild(li);
                });

                document.getElementById('exampleP').innerText = data.example.p;
                document.getElementById('exampleResult').innerText = data.example.result;
                document.getElementById('exampleNote').innerText = data.note;
                
                container.style.opacity = '1';
            }, 200);
        }

        // --- Visualizer: Euler Diagram (Canvas) ---
        let currentQuantifier = 'all';

        function initVisualizer() {
            drawQuantifier('all');
            window.addEventListener('resize', () => drawQuantifier(currentQuantifier));
        }

        function drawQuantifier(type) {
            currentQuantifier = type;
            
            // Update buttons
            document.querySelectorAll('#visualizer button').forEach(btn => {
                btn.className = 'px-4 py-2 rounded-full text-sm font-medium transition-colors bg-white text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500';
            });
            const activeBtn = document.getElementById(`btn-${type}`);
            activeBtn.className = 'px-4 py-2 rounded-full text-sm font-medium transition-colors bg-indigo-100 text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ring-offset-white';

            const canvas = document.getElementById('eulerCanvas');
            const ctx = canvas.getContext('2d');
            
            // Reset canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Container Responsive Width
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;

            const w = canvas.width;
            const h = canvas.height;
            const centerX = w / 2;
            const centerY = h / 2;

            ctx.font = 'bold 16px Inter';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            if (type === 'all') {
                // Outer Circle (B)
                ctx.beginPath();
                ctx.arc(centerX, centerY, 100, 0, 2 * Math.PI);
                ctx.fillStyle = '#E0E7FF'; // Light Indigo
                ctx.fill();
                ctx.strokeStyle = '#4F46E5';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.fillStyle = '#4F46E5';
                ctx.fillText('B (Mamalia)', centerX, centerY - 120);

                // Inner Circle (A)
                ctx.beginPath();
                ctx.arc(centerX, centerY + 30, 50, 0, 2 * Math.PI);
                ctx.fillStyle = '#818CF8'; // Darker Indigo
                ctx.fill();
                ctx.fillStyle = 'white';
                ctx.fillText('A (Kucing)', centerX, centerY + 30);

                document.getElementById('visualExplanation').innerHTML = '<strong>Semua A adalah B</strong>.<br>Himpunan A berada sepenuhnya di dalam himpunan B. Jika sesuatu adalah A, maka ia PASTI B.';

            } else if (type === 'some') {
                // Circle A
                ctx.beginPath();
                ctx.arc(centerX - 40, centerY, 80, 0, 2 * Math.PI);
                ctx.fillStyle = 'rgba(248, 113, 113, 0.3)'; // Redish
                ctx.fill();
                ctx.strokeStyle = '#EF4444';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.fillStyle = '#B91C1C';
                ctx.fillText('A (Siswa)', centerX - 100, centerY - 90);

                // Circle B
                ctx.beginPath();
                ctx.arc(centerX + 40, centerY, 80, 0, 2 * Math.PI);
                ctx.fillStyle = 'rgba(59, 130, 246, 0.3)'; // Blueish
                ctx.fill();
                ctx.strokeStyle = '#3B82F6';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.fillStyle = '#1D4ED8';
                ctx.fillText('B (Kacamata)', centerX + 100, centerY - 90);

                // Intersection Label
                ctx.fillStyle = '#111827';
                ctx.font = '14px Inter';
                ctx.fillText('Irisan', centerX, centerY);

                document.getElementById('visualExplanation').innerHTML = '<strong>Sebagian A adalah B</strong>.<br>Hanya area irisan (tengah) yang memenuhi kedua syarat. Area kiri adalah A yang bukan B, area kanan adalah B yang bukan A.';

            } else if (type === 'none') {
                // Circle A
                ctx.beginPath();
                ctx.arc(centerX - 80, centerY, 60, 0, 2 * Math.PI);
                ctx.fillStyle = '#D1FAE5'; // Green
                ctx.fill();
                ctx.strokeStyle = '#10B981';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.fillStyle = '#047857';
                ctx.fillText('A (Ikan)', centerX - 80, centerY);

                // Circle B
                ctx.beginPath();
                ctx.arc(centerX + 80, centerY, 60, 0, 2 * Math.PI);
                ctx.fillStyle = '#FEF3C7'; // Yellow
                ctx.fill();
                ctx.strokeStyle = '#F59E0B';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.fillStyle = '#B45309';
                ctx.fillText('B (Kucing)', centerX + 80, centerY);

                document.getElementById('visualExplanation').innerHTML = '<strong>Tidak ada A yang B</strong> (Saling Lepas).<br>Tidak ada anggota persekutuan. Jika A maka BUKAN B.';
            }
        }

        // --- Active Recall ---
        function initRecall() {
            const grid = document.getElementById('flashcardGrid');
            
            studyData.flashcards.forEach((card, index) => {
                const el = document.createElement('div');
                el.className = 'bg-white rounded-xl shadow-sm border border-gray-200 p-6 cursor-pointer card-hover relative overflow-hidden group min-h-[160px] flex flex-col justify-center items-center text-center';
                el.onclick = function() {
                    const qEl = this.querySelector('.question');
                    const aEl = this.querySelector('.answer');
                    if (qEl.classList.contains('hidden')) {
                        qEl.classList.remove('hidden');
                        aEl.classList.add('hidden');
                        this.classList.remove('bg-indigo-50', 'border-indigo-300');
                    } else {
                        qEl.classList.add('hidden');
                        aEl.classList.remove('hidden');
                        this.classList.add('bg-indigo-50', 'border-indigo-300');
                    }
                };

                el.innerHTML = `
                    <div class="question">
                        <h4 class="font-bold text-gray-800 text-lg mb-2">Kartu ${index + 1}</h4>
                        <p class="text-gray-600">${card.q}</p>
                        <p class="text-xs text-indigo-400 mt-4 opacity-0 group-hover:opacity-100 transition-opacity">Klik untuk melihat jawaban</p>
                    </div>
                    <div class="answer hidden w-full">
                        <span class="text-xs font-bold text-green-600 uppercase tracking-wider mb-1 block">Jawaban</span>
                        <p class="font-semibold text-gray-900 text-lg">${card.a}</p>
                        <p class="text-sm text-gray-500 mt-2 italic border-t border-indigo-200 pt-2">Hint: ${card.hint}</p>
                    </div>
                `;
                grid.appendChild(el);
            });
        }

        // --- Glossary ---
        function initGlossary() {
            const grid = document.getElementById('glossaryGrid');
            
            Object.entries(studyData.glossary).forEach(([term, def]) => {
                const el = document.createElement('div');
                el.innerHTML = `
                    <dt class="font-bold text-gray-900">${term}</dt>
                    <dd class="text-gray-600 text-sm mt-1">${def}</dd>
                `;
                grid.appendChild(el);
            });
        }

    </script>
</body>
</html>